<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>Fitness On Campus Track Sharing</title>


  <!-- JQuery -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

  <!-- nouislider -->
  <script src="extras/noUiSlider/nouislider.js"></script>
  <script src="extras/noUiSlider/nouislider.min.js"></script>


  <!-- Load the ArcGIS JavaScript SDK. -->
  <link rel="stylesheet" href="https://js.arcgis.com/4.11/esri/css/main.css" />
  <script src="https://js.arcgis.com/4.11/"></script>

  <!-- Load the js for the map -->
  <script src="js/main.js"></script>
  <!-- <script src="js/test.js"></script> -->


  <!-- Add some (minimal) styling to the website. -->
  <link rel="stylesheet" href="css/main.css" />

  <!--Import Google Icon Font-->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
  <!--Import materialize.css-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css" />
  <!--Let browser know website is optimized for mobile-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Import nouislider -->
  <link rel="stylesheet" href="extras/noUiSlider/nouislider.css" />
</head>

<body>

  <div id="filter" class="section section-filter container scrollspy">
    <h4 class="center-align">View Tracks</h4>
    <div class="row">
      <div id="filter-div" class="input-field col s12 m6">
        <select id="user-id">
          <option value="" selected>Choose All User ID</option>
        </select>
        <label>Filter by User ID</label>
      </div>

      <div class="col s12 m6">
        <label>Filter by Duration</label>
      </div>
      <div id="slider" class="col s12 m6"></div>

      <div class="col s6 m3 left-align">
        <label id="left-label" for="slider"></label>
      </div>
      <div class="col s6 m3 right-align">
        <label id="right-label" for="slider"></label>
      </div>
    </div>
  </div>
  <!-- The main view where we put the map. -->
  <div class="section section-map scrollspy" id="viewDiv"></div>

  <div class="section section-leaderboard container scrollspy">
    <h4 class="center-align">LeaderBoard</h4>
    <ul id="leaderboard" class="collection">
    </ul>
  </div>

  <div class="fixed-action-btn">
    <a href="#filter" class="btn-floating btn-large">
      <i class="large material-icons">publish</i>
    </a>
  </div>


  <!-- JS for materlizecss styling -->
  <!--JavaScript at end of body for optimized loading-->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

  <script>
    // initialize floating button
    document.addEventListener('DOMContentLoaded', function () {
      var elems = document.querySelectorAll('.fixed-action-btn');
      var instances = M.FloatingActionButton.init(elems);
    });

    // initialize select
    document.addEventListener('DOMContentLoaded', function () {
      var elems = document.querySelectorAll('select');
      var instances = M.FormSelect.init(elems);
    });

    // initialize slider for duration
    var slider = document.getElementById('slider');
    noUiSlider.create(slider, {
      start: [0, 100],
      connect: true,
      step: 1,
      orientation: 'horizontal', // 'horizontal' or 'vertical'
      range: {
        min: 0,
        max: 100
      },
      format: wNumb({
        decimals: 0
      })
    });
    slider.setAttribute('disabled', true);

    console.log(slider);

    // initialize dropdown
    document.addEventListener('DOMContentLoaded', function () {
      var elems = document.querySelectorAll('.dropdown-trigger');
      var options = {
        alignment: 'right',
        coverTrigger: false
      };
      var instances = M.Dropdown.init(elems, options);
    });

    // initialize scrollspy
    const ss = document.querySelectorAll('.scrollspy');
    console.log("number of scrollspy: ", ss.length);
    M.ScrollSpy.init(ss, {});
  </script>
</body>

</html>